!function(){"use strict";class e{constructor(e,t,s,i,n,r){this._name=e.name,this._link=e.link,this.id=e._id,this.isLiked=e.isLiked,this._template=t,this._handleImageClick=s,this._templateClone=this._template.content.cloneNode(!0),this._cardImage=this._templateClone.querySelector(".card__image"),this._likeButton=this._templateClone.querySelector(".card__button"),this.handleDelete=i,this.handleLike=n,this.openDeletePopup=r,this._checkInitialLike()}_checkInitialLike(){this.isLiked?this._likeButton.classList.add("card__button-clicked"):this._likeButton.classList.remove("card__button-clicked")}getCard(){return this._cardImage.src=this._link,this._cardImage.alt=this._name,this._templateClone.querySelector(".card__text").textContent=this._name,this._setEventListeners(),this._templateClone}_deleteCard(e){e.target.closest(".card").remove()}_likeCard(e){e.target.classList.toggle("card__button-clicked")}_setEventListeners(){this._templateClone.querySelector(".card__button").addEventListener("click",(e=>{this.handleLike(this.id,this.isLiked).then((e=>e.json())).then((e=>console.log(e))),this._likeCard(e),this.isLiked=!this.isLiked})),this._templateClone.querySelector(".card__delete-button").addEventListener("click",(e=>{const t=e.target.closest(".card");this.openDeletePopup(this.id,t)})),this._cardImage.addEventListener("click",this._handleImageClick)}}class t{constructor(e,t){this._options=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._options.inputSelector)),this._buttonElement=this._formElement.querySelector(this._options.submitButtonSelector)}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_toggleButtonState(){this._checkValidInput()?this.disableSubmitButton():this.enableSubmitButton()}disableSubmitButton(){this._buttonElement.setAttribute("disabled",""),this._buttonElement.classList.add(this._options.inactiveButtonClass)}enableSubmitButton(){this._checkValidInput()||(this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._options.inactiveButtonClass))}_checkValidInput(){return this._inputList.some((e=>!e.validity.valid))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hideInputError(e){const t=this._formElement.querySelector(`.form__${e.id}-error`);e.classList.remove(this._options.inputErrorClass),t.textContent=""}_showInputError(e,t){const s=this._formElement.querySelector(`.form__${e.id}-error`);e.classList.add(this._options.inputErrorClass),s.textContent=t}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this.enableSubmitButton()}enableValidation(){this._setEventListeners()}}class s{constructor(e){this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__close-button"),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popup.addEventListener("click",(e=>{e.target.classList.contains("popup")&&this.close()})),this._closeButton.addEventListener("click",(()=>{this.close()}))}}class i extends s{constructor(e,t){super(e),this._handleSubmit=t,this._popupForm=this._popup.querySelector(".popup__form"),this._submitButton=this._popup.querySelector(".popup__button")}_getInputValues(){return Object.fromEntries(Array.from(this._popup.querySelectorAll(".form__input")).map((e=>[e.id,e.value])))}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._submitButton.textContent;this._submitButton.textContent="Saving...",this._data=this._getInputValues(),this._handleSubmit(e,this._data),this._submitButton.textContent=t})),super.setEventListeners()}}class n extends s{constructor(e,t,s,i){super(e),this.cardId=t,this.cardElement=s,this.handleDelete=i,this._popupForm=this._popup.querySelector(".popup__form"),this._handleSubmit=this._handleSubmit.bind(this)}_handleSubmit(e){e.preventDefault(),this.handleDelete(this.cardId,this.cardElement),this.close(),this._popupForm.removeEventListener("submit",this._handleSubmit)}setEventListeners(){this._popupForm.addEventListener("submit",this._handleSubmit),super.setEventListeners()}}const r={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},o=document.querySelector("#card__template"),a=(document.querySelector(".cards"),document.querySelector(".profile__edit-button")),c=document.querySelector(".profile__button"),l=document.querySelector(".profile__title"),u=document.querySelector(".profile__subtitle"),p=document.forms.edit_profile_form,h=document.forms.new_place_form,d=(document.forms.confirm_delete_form,document.querySelector(".form__name")),_=document.querySelector(".form__description"),m=document.querySelector(".profile__avatar"),f=document.querySelector(".profile__avatar_wrapper"),b=new class{constructor(e){this.options=e,this.baseUrl=e.baseUrl,this.headers=e.headers}getCards(){return fetch(`${this.baseUrl}/cards`,{headers:this.headers})}fetchUserInfo(){return fetch(`${this.baseUrl}/users/me`,{headers:this.headers})}postUserInfo(e){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:this.headers,body:JSON.stringify({name:`${e["name-input"]}`,about:`${e["description-input"]}`})})}postCard(e){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{method:"POST",headers:this.headers,body:JSON.stringify({name:`${e.name}`,link:`${e.link}`})})}deleteCard(e){return fetch("https://around-api.en.tripleten-services.com/v1/cards/"+e,{method:"DELETE",headers:{authorization:"c6945e47-b548-4e1c-b20e-926f9841fa5f"}})}handleLike(e,t){return t?fetch("https://around-api.en.tripleten-services.com/v1/cards/"+e+"/likes",{method:"DELETE",headers:{authorization:"c6945e47-b548-4e1c-b20e-926f9841fa5f"}}):fetch("https://around-api.en.tripleten-services.com/v1/cards/"+e+"/likes",{method:"PUT",headers:{authorization:"c6945e47-b548-4e1c-b20e-926f9841fa5f"}})}changeProfilePicture(e){return console.log(e["image-url"]),fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:`${e["image-url"]}`})})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"c6945e47-b548-4e1c-b20e-926f9841fa5f","Content-Type":"application/json"}}),v=new i(".edit-popup",(function(e,t){y.setUserInfo(t),b.postUserInfo(t),b.fetchUserInfo(),v.close()})),E=new i(".add-popup",(function(e,t){const s={name:t.title,link:t["image-url"]};b.postCard(s).then((e=>e.json())).then((e=>{C.renderer(e)})),e.target.reset(),g.disableSubmitButton(),E.close()})),L=new i(".profile-picture-popup",(function(e,t){m.src=t["image-url"],console.log(m.src),b.changeProfilePicture(t).then(b.fetchUserInfo()),L.close()})),S=new t(r,p),g=new t(r,h),k=new class extends s{constructor(e){super(e)}open(e){const t=this._popup.querySelector(".image-popup__image");t.src=e.target.src,t.alt=e.target.alt,this._popup.querySelector(".image-popup__text").textContent=e.target.alt,super.open()}}(".image-popup"),C=new class{constructor(e){let{renderer:t,selector:s}=e;this.renderer=t,this._element=document.querySelector(s)}renderItems(e){e.forEach((e=>{console.log(e),this.renderer(e)}))}addItem(e){this._element.prepend(e)}}({renderer:t=>{const s=new e(t,o,I,b.deleteCard,b.handleLike,q);C.addItem(s.getCard())},selector:".cards"}),y=new class{constructor(e,t){this._profileFormName=e,this._profileFormDescription=t}getUserInfo(){return{"name-input":`${this._profileFormName.textContent}`,"description-input":`${this._profileFormDescription.textContent}`}}setUserInfo(e){this._profileFormName.textContent=e["name-input"],this._profileFormDescription.textContent=e["description-input"]}}(l,u);function I(e){k.open(e)}function q(e,t){const s=new n(".confirm-delete-popup",e,t,B);s.setEventListeners(),s.open()}function B(e,t){b.deleteCard(e).then(t.remove())}a.addEventListener("click",(function(){const e=y.getUserInfo();d.value=e["name-input"],_.value=e["description-input"],y.setUserInfo(e),S.resetValidation(),v.open()})),c.addEventListener("click",(()=>{E.open()})),f.addEventListener("click",(function(){L.open()})),S.enableValidation(),g.enableValidation(),k.setEventListeners(),E.setEventListeners(),v.setEventListeners(),L.setEventListeners(),(async()=>{(await b.getCards().then((e=>e.json())).then((e=>e))).forEach((e=>{C.renderer(e)}))})(),b.fetchUserInfo().then((e=>e.json())).then((e=>{console.log(e),m.src=e.avatar,y.setUserInfo({"name-input":e.name,"description-input":e.about})}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OUMsRUFBSWUsV0FBV0MsR0FBZ0JyRyxLQUFLbUksRUFBYWhKLFNBQ25ELENBU0F1RixFQUFXM0UsaUJBQWlCLFNBM0Q1QixXQUNFLE1BQU02RixFQUFXZSxFQUFLdUIsY0FDdEJqRCxFQUFtQmpCLE1BQVE0QixFQUFTLGNBQ3BDVixFQUEwQmxCLE1BQVE0QixFQUFTLHFCQUMzQ2UsRUFBS0MsWUFBWWhCLEdBQ2pCd0IsRUFBa0IvRSxrQkFDbEJxRSxFQUFVM0QsTUFDWixJQXNEQTRCLEVBQVU1RSxpQkFBaUIsU0FBUyxLQUNsQzhHLEVBQVM5RCxNQUFNLElBR2pCcUMsRUFBc0JyRixpQkFBaUIsU0FoQ3ZDLFdBQ0VvSCxFQUFvQnBFLE1BQ3RCLElBZ0NBcUUsRUFBa0I3RSxtQkFDbEIyRSxFQUFpQjNFLG1CQUNqQjhFLEVBQVdsRSxvQkFDWDBELEVBQVMxRCxvQkFDVHVELEVBQVV2RCxvQkFDVmdFLEVBQW9CaEUsb0JBRUZtRixrQkFDSWpELEVBQ2pCRyxXQUNBeEYsTUFBTUMsR0FBUUEsRUFBSUMsU0FDbEJGLE1BQU10QyxHQUFTQSxLQUVaeUQsU0FBU3lHLElBQ2JiLEVBQVlDLFNBQVNZLEVBQUssR0FDMUIsRUFFSlcsR0FFQWxELEVBQ0dLLGdCQUNBMUYsTUFBTUMsR0FBUUEsRUFBSUMsU0FDbEJGLE1BQU13SSxJQUNMckksUUFBUUMsSUFBSW9JLEdBQ1pyRCxFQUFlOUYsSUFBTW1KLEVBQVMvQixPQUM5QkUsRUFBS0MsWUFBWSxDQUNmLGFBQWM0QixFQUFTdEssS0FDdkIsb0JBQXFCc0ssRUFBU3ZDLE9BQzlCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGUsXHJcbiAgICBoYW5kbGVMaWtlLFxyXG4gICAgb3BlbkRlbGV0ZVBvcHVwXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuaWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuaXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcclxuICAgIHRoaXMuX3RlbXBsYXRlID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZUNsb25lID0gdGhpcy5fdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl90ZW1wbGF0ZUNsb25lLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fdGVtcGxhdGVDbG9uZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvblwiKTtcclxuICAgIHRoaXMuaGFuZGxlRGVsZXRlID0gaGFuZGxlRGVsZXRlO1xyXG4gICAgdGhpcy5oYW5kbGVMaWtlID0gaGFuZGxlTGlrZTtcclxuICAgIHRoaXMub3BlbkRlbGV0ZVBvcHVwID0gb3BlbkRlbGV0ZVBvcHVwO1xyXG4gICAgdGhpcy5fY2hlY2tJbml0aWFsTGlrZSgpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5pdGlhbExpa2UoKSB7XHJcbiAgICBpZiAodGhpcy5pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2J1dHRvbi1jbGlja2VkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fYnV0dG9uLWNsaWNrZWRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3RlbXBsYXRlQ2xvbmUucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZXh0XCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGVDbG9uZTtcclxuICB9XHJcblxyXG4gIF9kZWxldGVDYXJkKGV2ZW50KSB7XHJcbiAgICBldmVudC50YXJnZXQuY2xvc2VzdChcIi5jYXJkXCIpLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgX2xpa2VDYXJkKGV2ZW50KSB7XHJcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2J1dHRvbi1jbGlja2VkXCIpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fdGVtcGxhdGVDbG9uZVxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmhhbmRsZUxpa2UodGhpcy5pZCwgdGhpcy5pc0xpa2VkKVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcclxuICAgICAgICAgIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSk7XHJcbiAgICAgICAgdGhpcy5fbGlrZUNhcmQoZXZlbnQpO1xyXG4gICAgICAgIHRoaXMuaXNMaWtlZCA9ICF0aGlzLmlzTGlrZWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVDbG9uZVxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FyZERhdGEgPSBldmVudC50YXJnZXQuY2xvc2VzdChcIi5jYXJkXCIpO1xyXG4gICAgICAgIHRoaXMub3BlbkRlbGV0ZVBvcHVwKHRoaXMuaWQsIGNhcmREYXRhKTtcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2spO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fb3B0aW9ucy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9vcHRpb25zLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9jaGVja1ZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkaXNhYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9vcHRpb25zLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgaWYgKCF0aGlzLl9jaGVja1ZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb3B0aW9ucy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jaGVja1ZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLmZvcm1fXyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9vcHRpb25zLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLmZvcm1fXyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9vcHRpb25zLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmVuYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgaGFuZGxlU3VibWl0KSB7XHJcbiAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcclxuICAgICAgQXJyYXkuZnJvbSh0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpKS5tYXAoKGl0ZW0pID0+IFtcclxuICAgICAgICBpdGVtLmlkLFxyXG4gICAgICAgIGl0ZW0udmFsdWUsXHJcbiAgICAgIF0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3Qgc3VibWl0VGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdChldmVudCwgdGhpcy5fZGF0YSk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHN1Ym1pdFRleHQ7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cERlbGV0ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgaWQsIGNhcmRFbGVtZW50LCBoYW5kbGVEZWxldGUpIHtcclxuICAgIHN1cGVyKHNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLmNhcmRJZCA9IGlkO1xyXG4gICAgdGhpcy5jYXJkRWxlbWVudCA9IGNhcmRFbGVtZW50O1xyXG4gICAgdGhpcy5oYW5kbGVEZWxldGUgPSBoYW5kbGVEZWxldGU7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gdGhpcy5faGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlU3VibWl0KGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5oYW5kbGVEZWxldGUodGhpcy5jYXJkSWQsIHRoaXMuY2FyZEVsZW1lbnQpO1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkX190ZW1wbGF0ZVwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpO1xyXG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRm9ybURlc2NyaXB0aW9uID1cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImVkaXRfcHJvZmlsZV9mb3JtXCJdO1xyXG5leHBvcnQgY29uc3QgYWRkRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wibmV3X3BsYWNlX2Zvcm1cIl07XHJcbmV4cG9ydCBjb25zdCBjb25maXJtRGVsZXRlRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiY29uZmlybV9kZWxldGVfZm9ybVwiXTtcclxuZXhwb3J0IGNvbnN0IG5ld1Byb2ZpbGVGb3JtTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IG5ld1Byb2ZpbGVGb3JtRGVzY3JpcHRpb24gPVxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZGVzY3JpcHRpb25cIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlUGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZVBpY3R1cmVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19hdmF0YXJfd3JhcHBlclwiXHJcbik7XHJcbiIsImltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBEZWxldGUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZS5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIHByb2ZpbGVQaWN0dXJlV3JhcHBlcixcclxuICBvcHRpb25zLFxyXG4gIHRlbXBsYXRlLFxyXG4gIGVkaXRCdXR0b24sXHJcbiAgYWRkQnV0dG9uLFxyXG4gIHByb2ZpbGVGb3JtTmFtZSxcclxuICBwcm9maWxlRm9ybURlc2NyaXB0aW9uLFxyXG4gIGVkaXRGb3JtLFxyXG4gIGFkZEZvcm0sXHJcbiAgY29uZmlybURlbGV0ZUZvcm0sXHJcbiAgbmV3UHJvZmlsZUZvcm1OYW1lLFxyXG4gIG5ld1Byb2ZpbGVGb3JtRGVzY3JpcHRpb24sXHJcbiAgcHJvZmlsZVBpY3R1cmUsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJjNjk0NWU0Ny1iNTQ4LTRlMWMtYjIwZS05MjZmOTg0MWZhNWZcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgZWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIuZWRpdC1wb3B1cFwiLCBjaGFuZ2VQcm9maWxlSW5mbyk7XHJcbmNvbnN0IGFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIuYWRkLXBvcHVwXCIsIGFkZExvY2F0aW9uQ2FyZCk7XHJcbmNvbnN0IHByb2ZpbGVQaWN0dXJlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIi5wcm9maWxlLXBpY3R1cmUtcG9wdXBcIixcclxuICBjaGFuZ2VQcm9maWxlUGljdHVyZVxyXG4pO1xyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIGVkaXRGb3JtKTtcclxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIGFkZEZvcm0pO1xyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5pbWFnZS1wb3B1cFwiKTtcclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxyXG4gICAgICBpdGVtLFxyXG4gICAgICB0ZW1wbGF0ZSxcclxuICAgICAgb3BlbkltYWdlTW9kZWwsXHJcbiAgICAgIGFwaS5kZWxldGVDYXJkLFxyXG4gICAgICBhcGkuaGFuZGxlTGlrZSxcclxuICAgICAgb3BlbkNvbmZpcm1EZWxldGVcclxuICAgICk7XHJcbiAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50LmdldENhcmQoKSk7XHJcbiAgfSxcclxuICBzZWxlY3RvcjogXCIuY2FyZHNcIixcclxufSk7XHJcbmNvbnN0IHVzZXIgPSBuZXcgVXNlckluZm8ocHJvZmlsZUZvcm1OYW1lLCBwcm9maWxlRm9ybURlc2NyaXB0aW9uKTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5Qcm9maWxlUG9wdXAoKSB7XHJcbiAgY29uc3QgdXNlckluZm8gPSB1c2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgbmV3UHJvZmlsZUZvcm1OYW1lLnZhbHVlID0gdXNlckluZm9bXCJuYW1lLWlucHV0XCJdO1xyXG4gIG5ld1Byb2ZpbGVGb3JtRGVzY3JpcHRpb24udmFsdWUgPSB1c2VySW5mb1tcImRlc2NyaXB0aW9uLWlucHV0XCJdO1xyXG4gIHVzZXIuc2V0VXNlckluZm8odXNlckluZm8pO1xyXG4gIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRQb3B1cC5vcGVuKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVByb2ZpbGVJbmZvKGV2ZW50LCBkYXRhKSB7XHJcbiAgdXNlci5zZXRVc2VySW5mbyhkYXRhKTtcclxuICBhcGkucG9zdFVzZXJJbmZvKGRhdGEpO1xyXG4gIGFwaS5mZXRjaFVzZXJJbmZvKCk7XHJcbiAgZWRpdFBvcHVwLmNsb3NlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZExvY2F0aW9uQ2FyZChldmVudCwgZGF0YSkge1xyXG4gIGNvbnN0IG5ld0xvY2F0aW9uID0geyBuYW1lOiBkYXRhW1widGl0bGVcIl0sIGxpbms6IGRhdGFbXCJpbWFnZS11cmxcIl0gfTtcclxuICBhcGlcclxuICAgIC5wb3N0Q2FyZChuZXdMb2NhdGlvbilcclxuICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBjYXJkU2VjdGlvbi5yZW5kZXJlcihkYXRhKTtcclxuICAgIH0pO1xyXG4gIGV2ZW50LnRhcmdldC5yZXNldCgpO1xyXG4gIGFkZEZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIGFkZFBvcHVwLmNsb3NlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5JbWFnZU1vZGVsKGV2ZW50KSB7XHJcbiAgaW1hZ2VQb3B1cC5vcGVuKGV2ZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlbkVkaXRQcm9maWxlUGljdHVyZSgpIHtcclxuICBwcm9maWxlUGljdHVyZVBvcHVwLm9wZW4oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlbkNvbmZpcm1EZWxldGUobG9jYXRpb25DYXJkSWQsIGxvY2F0aW9uQ2FyZCkge1xyXG4gIGNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwRGVsZXRlKFxyXG4gICAgXCIuY29uZmlybS1kZWxldGUtcG9wdXBcIixcclxuICAgIGxvY2F0aW9uQ2FyZElkLFxyXG4gICAgbG9jYXRpb25DYXJkLFxyXG4gICAgZGVsZXRlTG9jYXRpb25DYXJkXHJcbiAgKTtcclxuICBkZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIGRlbGV0ZVBvcHVwLm9wZW4oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlTG9jYXRpb25DYXJkKGxvY2F0aW9uQ2FyZElkLCBsb2NhdGlvbkNhcmQpIHtcclxuICBhcGkuZGVsZXRlQ2FyZChsb2NhdGlvbkNhcmRJZCkudGhlbihsb2NhdGlvbkNhcmQucmVtb3ZlKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VQcm9maWxlUGljdHVyZShldmVudCwgcGljdHVyZUxpbmspIHtcclxuICBwcm9maWxlUGljdHVyZS5zcmMgPSBwaWN0dXJlTGlua1tcImltYWdlLXVybFwiXTtcclxuICBjb25zb2xlLmxvZyhwcm9maWxlUGljdHVyZS5zcmMpO1xyXG4gIGFwaS5jaGFuZ2VQcm9maWxlUGljdHVyZShwaWN0dXJlTGluaykudGhlbihhcGkuZmV0Y2hVc2VySW5mbygpKTtcclxuICBwcm9maWxlUGljdHVyZVBvcHVwLmNsb3NlKCk7XHJcbn1cclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qcm9maWxlUG9wdXApO1xyXG5cclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkUG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVQaWN0dXJlV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlbkVkaXRQcm9maWxlUGljdHVyZSk7XHJcblxyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmFkZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wcm9maWxlUGljdHVyZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCB0ZXN0Q2FyZHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgY2FyZHMgPSBhd2FpdCBhcGlcclxuICAgIC5nZXRDYXJkcygpXHJcbiAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IGRhdGEpO1xyXG5cclxuICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJlcihjYXJkKTtcclxuICB9KTtcclxufTtcclxudGVzdENhcmRzKCk7XHJcblxyXG5hcGlcclxuICAuZmV0Y2hVc2VySW5mbygpXHJcbiAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcclxuICAudGhlbigodXNlckRhdGEpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHVzZXJEYXRhKTtcclxuICAgIHByb2ZpbGVQaWN0dXJlLnNyYyA9IHVzZXJEYXRhLmF2YXRhcjtcclxuICAgIHVzZXIuc2V0VXNlckluZm8oe1xyXG4gICAgICBcIm5hbWUtaW5wdXRcIjogdXNlckRhdGEubmFtZSxcclxuICAgICAgXCJkZXNjcmlwdGlvbi1pbnB1dFwiOiB1c2VyRGF0YS5hYm91dCxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4iLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgdGhpcy5iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmZXRjaFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcG9zdFVzZXJJbmZvKHVzZXJJbmZvKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBgJHt1c2VySW5mb1tcIm5hbWUtaW5wdXRcIl19YCxcclxuICAgICAgICBhYm91dDogYCR7dXNlckluZm9bXCJkZXNjcmlwdGlvbi1pbnB1dFwiXX1gLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcG9zdENhcmQobG9jYXRpb25JbmZvKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkc1wiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGAke2xvY2F0aW9uSW5mby5uYW1lfWAsXHJcbiAgICAgICAgbGluazogYCR7bG9jYXRpb25JbmZvLmxpbmt9YCxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQobG9jYXRpb25DYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChcclxuICAgICAgXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkcy9cIiArIGxvY2F0aW9uQ2FyZElkLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiYzY5NDVlNDctYjU0OC00ZTFjLWIyMGUtOTI2Zjk4NDFmYTVmXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxpa2UobG9jYXRpb25DYXJkSWQsIGlzTGlrZWQpIHtcclxuICAgIGlmICghaXNMaWtlZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goXHJcbiAgICAgICAgXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkcy9cIiArXHJcbiAgICAgICAgICBsb2NhdGlvbkNhcmRJZCArXHJcbiAgICAgICAgICBcIi9saWtlc1wiLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogXCJjNjk0NWU0Ny1iNTQ4LTRlMWMtYjIwZS05MjZmOTg0MWZhNWZcIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZldGNoKFxyXG4gICAgICAgIFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvXCIgK1xyXG4gICAgICAgICAgbG9jYXRpb25DYXJkSWQgK1xyXG4gICAgICAgICAgXCIvbGlrZXNcIixcclxuICAgICAgICB7XHJcbiAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiYzY5NDVlNDctYjU0OC00ZTFjLWIyMGUtOTI2Zjk4NDFmYTVmXCIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoYW5nZVByb2ZpbGVQaWN0dXJlKHBpY3R1cmVMaW5rKSB7XHJcbiAgICBjb25zb2xlLmxvZyhwaWN0dXJlTGlua1tcImltYWdlLXVybFwiXSk7XHJcbiAgICByZXR1cm4gZmV0Y2goXHJcbiAgICAgIFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvdXNlcnMvbWUvYXZhdGFyXCIsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgYXZhdGFyOiBgJHtwaWN0dXJlTGlua1tcImltYWdlLXVybFwiXX1gLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4oZXZlbnQpIHtcclxuICAgIGNvbnN0IGltYWdlUG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtcG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgaW1hZ2VQb3B1cEltYWdlLnNyYyA9IGV2ZW50LnRhcmdldC5zcmM7XHJcbiAgICBpbWFnZVBvcHVwSW1hZ2UuYWx0ID0gZXZlbnQudGFyZ2V0LmFsdDtcclxuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtcG9wdXBfX3RleHRcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICBldmVudC50YXJnZXQuYWx0O1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciwgc2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY29uc29sZS5sb2coaXRlbSk7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oY2FyZCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5wcmVwZW5kKGNhcmQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHByb2ZpbGVGb3JtTmFtZSwgcHJvZmlsZUZvcm1EZXNjcmlwdGlvbikge1xyXG4gICAgdGhpcy5fcHJvZmlsZUZvcm1OYW1lID0gcHJvZmlsZUZvcm1OYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZUZvcm1EZXNjcmlwdGlvbiA9IHByb2ZpbGVGb3JtRGVzY3JpcHRpb247XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIFwibmFtZS1pbnB1dFwiOiBgJHt0aGlzLl9wcm9maWxlRm9ybU5hbWUudGV4dENvbnRlbnR9YCxcclxuICAgICAgXCJkZXNjcmlwdGlvbi1pbnB1dFwiOiBgJHt0aGlzLl9wcm9maWxlRm9ybURlc2NyaXB0aW9uLnRleHRDb250ZW50fWAsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZUZvcm1OYW1lLnRleHRDb250ZW50ID0gZGF0YVtcIm5hbWUtaW5wdXRcIl07XHJcbiAgICB0aGlzLl9wcm9maWxlRm9ybURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YVtcImRlc2NyaXB0aW9uLWlucHV0XCJdO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGUiLCJoYW5kbGVMaWtlIiwib3BlbkRlbGV0ZVBvcHVwIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsImlkIiwiX2lkIiwiaXNMaWtlZCIsIl90ZW1wbGF0ZSIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX3RlbXBsYXRlQ2xvbmUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRJbWFnZSIsInF1ZXJ5U2VsZWN0b3IiLCJfbGlrZUJ1dHRvbiIsIl9jaGVja0luaXRpYWxMaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiZ2V0Q2FyZCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2RlbGV0ZUNhcmQiLCJldmVudCIsInRhcmdldCIsImNsb3Nlc3QiLCJfbGlrZUNhcmQiLCJ0b2dnbGUiLCJhZGRFdmVudExpc3RlbmVyIiwidGhlbiIsInJlcyIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiY2FyZERhdGEiLCJGb3JtVmFsaWRhdG9yIiwib3B0aW9ucyIsImZvcm1FbGVtZW50IiwiX29wdGlvbnMiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfY2hlY2tWYWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsImVuYWJsZVN1Ym1pdEJ1dHRvbiIsInNldEF0dHJpYnV0ZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JNZXNzYWdlIiwicmVzZXRWYWxpZGF0aW9uIiwiaW5wdXQiLCJlbmFibGVWYWxpZGF0aW9uIiwiUG9wdXAiLCJzZWxlY3RvciIsIl9wb3B1cCIsImRvY3VtZW50IiwiX2Nsb3NlQnV0dG9uIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdCIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdCIsIl9wb3B1cEZvcm0iLCJfc3VibWl0QnV0dG9uIiwiX2dldElucHV0VmFsdWVzIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJtYXAiLCJpdGVtIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInN1Ym1pdFRleHQiLCJfZGF0YSIsIlBvcHVwRGVsZXRlIiwiY2FyZEVsZW1lbnQiLCJjYXJkSWQiLCJmb3JtU2VsZWN0b3IiLCJlcnJvckNsYXNzIiwidGVtcGxhdGUiLCJlZGl0QnV0dG9uIiwiYWRkQnV0dG9uIiwicHJvZmlsZUZvcm1OYW1lIiwicHJvZmlsZUZvcm1EZXNjcmlwdGlvbiIsImVkaXRGb3JtIiwiZm9ybXMiLCJhZGRGb3JtIiwibmV3UHJvZmlsZUZvcm1OYW1lIiwibmV3UHJvZmlsZUZvcm1EZXNjcmlwdGlvbiIsInByb2ZpbGVQaWN0dXJlIiwicHJvZmlsZVBpY3R1cmVXcmFwcGVyIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJnZXRDYXJkcyIsImZldGNoIiwiZmV0Y2hVc2VySW5mbyIsInBvc3RVc2VySW5mbyIsInVzZXJJbmZvIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhYm91dCIsInBvc3RDYXJkIiwibG9jYXRpb25JbmZvIiwiZGVsZXRlQ2FyZCIsImxvY2F0aW9uQ2FyZElkIiwiYXV0aG9yaXphdGlvbiIsImNoYW5nZVByb2ZpbGVQaWN0dXJlIiwicGljdHVyZUxpbmsiLCJhdmF0YXIiLCJlZGl0UG9wdXAiLCJ1c2VyIiwic2V0VXNlckluZm8iLCJhZGRQb3B1cCIsIm5ld0xvY2F0aW9uIiwiY2FyZFNlY3Rpb24iLCJyZW5kZXJlciIsInJlc2V0IiwiYWRkRm9ybVZhbGlkYXRvciIsInByb2ZpbGVQaWN0dXJlUG9wdXAiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImltYWdlUG9wdXAiLCJpbWFnZVBvcHVwSW1hZ2UiLCJfcmVmIiwiX2VsZW1lbnQiLCJyZW5kZXJJdGVtcyIsIml0ZW1zIiwiYWRkSXRlbSIsImNhcmQiLCJwcmVwZW5kIiwib3BlbkltYWdlTW9kZWwiLCJvcGVuQ29uZmlybURlbGV0ZSIsIl9wcm9maWxlRm9ybU5hbWUiLCJfcHJvZmlsZUZvcm1EZXNjcmlwdGlvbiIsImdldFVzZXJJbmZvIiwibG9jYXRpb25DYXJkIiwiZGVsZXRlUG9wdXAiLCJkZWxldGVMb2NhdGlvbkNhcmQiLCJhc3luYyIsInRlc3RDYXJkcyIsInVzZXJEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==